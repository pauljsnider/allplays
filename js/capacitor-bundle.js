var xs=Object.defineProperty;var O=(n,e)=>()=>(n&&(e=n(n=0)),e);var Fs=(n,e)=>{for(var t in e)xs(n,t,{get:e[t],enumerable:!0})};var we,De,Vs,Ws,Hs,at,Le,fe,zr,qr,sn,yu,Bs,$s,Gs,js,an,wu,Kr,Yr,on,vu,ot=O(()=>{(function(n){n.Unimplemented="UNIMPLEMENTED",n.Unavailable="UNAVAILABLE"})(we||(we={}));De=class extends Error{constructor(e,t,r){super(e),this.message=e,this.code=t,this.data=r}},Vs=n=>{var e,t;return n?.androidBridge?"android":!((t=(e=n?.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||t===void 0)&&t.bridge?"ios":"web"},Ws=n=>{let e=n.CapacitorCustomPlatform||null,t=n.Capacitor||{},r=t.Plugins=t.Plugins||{},i=()=>e!==null?e.name:Vs(n),s=()=>i()!=="web",a=f=>{let l=u.get(f);return!!(l?.platforms.has(i())||o(f))},o=f=>{var l;return(l=t.PluginHeaders)===null||l===void 0?void 0:l.find(E=>E.name===f)},c=f=>n.console.error(f),u=new Map,h=(f,l={})=>{let E=u.get(f);if(E)return console.warn(`Capacitor plugin "${f}" already registered. Cannot register plugins twice.`),E.proxy;let w=i(),N=o(f),C,ee=async()=>(!C&&w in l?C=typeof l[w]=="function"?C=await l[w]():C=l[w]:e!==null&&!C&&"web"in l&&(C=typeof l.web=="function"?C=await l.web():C=l.web),C),te=(R,k)=>{var V,ne;if(N){let re=N?.methods.find(L=>k===L.name);if(re)return re.rtype==="promise"?L=>t.nativePromise(f,k.toString(),L):(L,it)=>t.nativeCallback(f,k.toString(),L,it);if(R)return(V=R[k])===null||V===void 0?void 0:V.bind(R)}else{if(R)return(ne=R[k])===null||ne===void 0?void 0:ne.bind(R);throw new De(`"${f}" plugin is not implemented on ${w}`,we.Unimplemented)}},he=R=>{let k,V=(...ne)=>{let re=ee().then(L=>{let it=te(L,R);if(it){let st=it(...ne);return k=st?.remove,st}else throw new De(`"${f}.${R}()" is not implemented on ${w}`,we.Unimplemented)});return R==="addListener"&&(re.remove=async()=>k()),re};return V.toString=()=>`${R.toString()}() { [capacitor code] }`,Object.defineProperty(V,"name",{value:R,writable:!1,configurable:!1}),V},rt=he("addListener"),jr=he("removeListener"),Ms=(R,k)=>{let V=rt({eventName:R},k),ne=async()=>{let L=await V;jr({eventName:R,callbackId:L},k)},re=new Promise(L=>V.then(()=>L({remove:ne})));return re.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await ne()},re},rn=new Proxy({},{get(R,k){switch(k){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return N?Ms:rt;case"removeListener":return jr;default:return he(k)}}});return r[f]=rn,u.set(f,{name:f,proxy:rn,platforms:new Set([...Object.keys(l),...N?[w]:[]])}),rn};return t.convertFileSrc||(t.convertFileSrc=f=>f),t.getPlatform=i,t.handleError=c,t.isNativePlatform=s,t.isPluginAvailable=a,t.registerPlugin=h,t.Exception=De,t.DEBUG=!!t.DEBUG,t.isLoggingEnabled=!!t.isLoggingEnabled,t},Hs=n=>n.Capacitor=Ws(n),at=Hs(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),Le=at.registerPlugin,fe=class{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(e,t){let r=!1;this.listeners[e]||(this.listeners[e]=[],r=!0),this.listeners[e].push(t);let s=this.windowListeners[e];s&&!s.registered&&this.addWindowListener(s),r&&this.sendRetainedArgumentsForEvent(e);let a=async()=>this.removeListener(e,t);return Promise.resolve({remove:a})}async removeAllListeners(){this.listeners={};for(let e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,t,r){let i=this.listeners[e];if(!i){if(r){let s=this.retainedEventArguments[e];s||(s=[]),s.push(t),this.retainedEventArguments[e]=s}return}i.forEach(s=>s(t))}hasListeners(e){var t;return!!(!((t=this.listeners[e])===null||t===void 0)&&t.length)}registerWindowListener(e,t){this.windowListeners[t]={registered:!1,windowEventName:e,pluginEventName:t,handler:r=>{this.notifyListeners(t,r)}}}unimplemented(e="not implemented"){return new at.Exception(e,we.Unimplemented)}unavailable(e="not available"){return new at.Exception(e,we.Unavailable)}async removeListener(e,t){let r=this.listeners[e];if(!r)return;let i=r.indexOf(t);this.listeners[e].splice(i,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){let t=this.retainedEventArguments[e];t&&(delete this.retainedEventArguments[e],t.forEach(r=>{this.notifyListeners(e,r)}))}},zr=n=>encodeURIComponent(n).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),qr=n=>n.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent),sn=class extends fe{async getCookies(){let e=document.cookie,t={};return e.split(";").forEach(r=>{if(r.length<=0)return;let[i,s]=r.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");i=qr(i).trim(),s=qr(s).trim(),t[i]=s}),t}async setCookie(e){try{let t=zr(e.key),r=zr(e.value),i=`; expires=${(e.expires||"").replace("expires=","")}`,s=(e.path||"/").replace("path=",""),a=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${t}=${r||""}${i}; path=${s}; ${a};`}catch(t){return Promise.reject(t)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(t){return Promise.reject(t)}}async clearCookies(){try{let e=document.cookie.split(";")||[];for(let t of e)document.cookie=t.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}},yu=Le("CapacitorCookies",{web:()=>new sn}),Bs=async n=>new Promise((e,t)=>{let r=new FileReader;r.onload=()=>{let i=r.result;e(i.indexOf(",")>=0?i.split(",")[1]:i)},r.onerror=i=>t(i),r.readAsDataURL(n)}),$s=(n={})=>{let e=Object.keys(n);return Object.keys(n).map(i=>i.toLocaleLowerCase()).reduce((i,s,a)=>(i[s]=n[e[a]],i),{})},Gs=(n,e=!0)=>n?Object.entries(n).reduce((r,i)=>{let[s,a]=i,o,c;return Array.isArray(a)?(c="",a.forEach(u=>{o=e?encodeURIComponent(u):u,c+=`${s}=${o}&`}),c.slice(0,-1)):(o=e?encodeURIComponent(a):a,c=`${s}=${o}`),`${r}&${c}`},"").substr(1):null,js=(n,e={})=>{let t=Object.assign({method:n.method||"GET",headers:n.headers},e),i=$s(n.headers)["content-type"]||"";if(typeof n.data=="string")t.body=n.data;else if(i.includes("application/x-www-form-urlencoded")){let s=new URLSearchParams;for(let[a,o]of Object.entries(n.data||{}))s.set(a,o);t.body=s.toString()}else if(i.includes("multipart/form-data")||n.data instanceof FormData){let s=new FormData;if(n.data instanceof FormData)n.data.forEach((o,c)=>{s.append(c,o)});else for(let o of Object.keys(n.data))s.append(o,n.data[o]);t.body=s;let a=new Headers(t.headers);a.delete("content-type"),t.headers=a}else(i.includes("application/json")||typeof n.data=="object")&&(t.body=JSON.stringify(n.data));return t},an=class extends fe{async request(e){let t=js(e,e.webFetchExtra),r=Gs(e.params,e.shouldEncodeUrlParams),i=r?`${e.url}?${r}`:e.url,s=await fetch(i,t),a=s.headers.get("content-type")||"",{responseType:o="text"}=s.ok?e:{};a.includes("application/json")&&(o="json");let c,u;switch(o){case"arraybuffer":case"blob":u=await s.blob(),c=await Bs(u);break;case"json":c=await s.json();break;case"document":case"text":default:c=await s.text()}let h={};return s.headers.forEach((f,l)=>{h[l]=f}),{data:c,headers:h,status:s.status,url:s.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}},wu=Le("CapacitorHttp",{web:()=>new an});(function(n){n.Dark="DARK",n.Light="LIGHT",n.Default="DEFAULT"})(Kr||(Kr={}));(function(n){n.StatusBar="StatusBar",n.NavigationBar="NavigationBar"})(Yr||(Yr={}));on=class extends fe{async setStyle(){this.unavailable("not available for web")}async setAnimation(){this.unavailable("not available for web")}async show(){this.unavailable("not available for web")}async hide(){this.unavailable("not available for web")}},vu=Le("SystemBars",{web:()=>new on})});var pe,q,cn=O(()=>{(function(n){n.IndexedDbLocal="INDEXED_DB_LOCAL",n.InMemory="IN_MEMORY",n.BrowserLocal="BROWSER_LOCAL",n.BrowserSession="BROWSER_SESSION"})(pe||(pe={}));(function(n){n.APPLE="apple.com",n.FACEBOOK="facebook.com",n.GAME_CENTER="gc.apple.com",n.GITHUB="github.com",n.GOOGLE="google.com",n.MICROSOFT="microsoft.com",n.PLAY_GAMES="playgames.google.com",n.TWITTER="twitter.com",n.YAHOO="yahoo.com",n.PASSWORD="password",n.PHONE="phone"})(q||(q={}))});var Jr,Xr=O(()=>{Jr=()=>{}});function Ks(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}function Me(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function ri(n){return(await fetch(n,{credentials:"include"})).ok}function Qs(){let n={prod:[],emulator:[]};for(let e of Object.keys(Ue))Ue[e]?n.emulator.push(e):n.prod.push(e);return n}function Zs(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}function ii(n,e){if(typeof window>"u"||typeof document>"u"||!Me(window.location.host)||Ue[n]===e||Ue[n]||Qr)return;Ue[n]=e;function t(l){return`__firebase__banner__${l}`}let r="__firebase__banner",s=Qs().prod.length>0;function a(){let l=document.getElementById(r);l&&l.remove()}function o(l){l.style.display="flex",l.style.background="#7faaf0",l.style.position="fixed",l.style.bottom="5px",l.style.left="5px",l.style.padding=".5em",l.style.borderRadius="5px",l.style.alignItems="center"}function c(l,E){l.setAttribute("width","24"),l.setAttribute("id",E),l.setAttribute("height","24"),l.setAttribute("viewBox","0 0 24 24"),l.setAttribute("fill","none"),l.style.marginLeft="-6px"}function u(){let l=document.createElement("span");return l.style.cursor="pointer",l.style.marginLeft="16px",l.style.fontSize="24px",l.innerHTML=" &times;",l.onclick=()=>{Qr=!0,a()},l}function h(l,E){l.setAttribute("id",E),l.innerText="Learn more",l.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",l.setAttribute("target","__blank"),l.style.paddingLeft="5px",l.style.textDecoration="underline"}function f(){let l=Zs(r),E=t("text"),w=document.getElementById(E)||document.createElement("span"),N=t("learnmore"),C=document.getElementById(N)||document.createElement("a"),ee=t("preprendIcon"),te=document.getElementById(ee)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(l.created){let he=l.element;o(he),h(C,N);let rt=u();c(te,ee),he.append(te,w,C,rt),document.body.appendChild(he)}s?(w.innerText="Preview backend disconnected.",te.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(te.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",E)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}function S(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function si(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(S())}function ai(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function oi(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function ci(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ui(){let n=S();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function li(){try{return typeof indexedDB=="object"}catch{return!1}}function di(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(t){e(t)}})}function ta(n,e){return n.replace(na,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}function hi(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function ie(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let s=n[i],a=e[i];if(Zr(s)&&Zr(a)){if(!ie(s,a))return!1}else if(s!==a)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function Zr(n){return n!==null&&typeof n=="object"}function me(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ve(n){let e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Te(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function fi(n,e){let t=new dn(n,e);return t.subscribe.bind(t)}function ra(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function un(){}function g(n){return n&&n._delegate?n._delegate:n}var ei,zs,ti,ln,qs,hn,ut,Ys,Js,Xs,fn,ni,pn,mn,ct,Ue,Qr,ea,U,K,na,dn,Au,be=O(()=>{Xr();ei=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},zs=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=n[t++],a=n[t++],o=n[t++],c=((i&7)<<18|(s&63)<<12|(a&63)<<6|o&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let s=n[t++],a=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},ti={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let s=n[i],a=i+1<n.length,o=a?n[i+1]:0,c=i+2<n.length,u=c?n[i+2]:0,h=s>>2,f=(s&3)<<4|o>>4,l=(o&15)<<2|u>>6,E=u&63;c||(E=64,a||(l=64)),r.push(t[h],t[f],t[l],t[E])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(ei(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):zs(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let s=t[n.charAt(i++)],o=i<n.length?t[n.charAt(i)]:0;++i;let u=i<n.length?t[n.charAt(i)]:64;++i;let f=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||o==null||u==null||f==null)throw new ln;let l=s<<2|o>>4;if(r.push(l),u!==64){let E=o<<4&240|u>>2;if(r.push(E),f!==64){let w=u<<6&192|f;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},ln=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},qs=function(n){let e=ei(n);return ti.encodeByteArray(e,!0)},hn=function(n){return qs(n).replace(/\./g,"")},ut=function(n){try{return ti.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};Ys=()=>Ks().__FIREBASE_DEFAULTS__,Js=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Xs=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&ut(n[1]);return e&&JSON.parse(e)},fn=()=>{try{return Jr()||Ys()||Js()||Xs()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},ni=n=>fn()?.emulatorHosts?.[n],pn=()=>fn()?.config,mn=n=>fn()?.[`_${n}`];ct=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};Ue={};Qr=!1;ea="FirebaseError",U=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=ea,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,K.prototype.create)}},K=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?ta(s,r):"Error",o=`${this.serviceName}: ${a} (${i}).`;return new U(i,o,r)}};na=/\{\$([^}]+)}/g;dn=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");ra(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=un),i.error===void 0&&(i.error=un),i.complete===void 0&&(i.complete=un);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};Au=14400*1e3;});function ia(n){return n===ge?void 0:n}function sa(n){return n.instantiationMode==="EAGER"}var W,ge,gn,lt,dt=O(()=>{be();W=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};ge="[DEFAULT]";gn=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new ct;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){let t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(sa(e))try{this.getOrInitializeService({instanceIdentifier:ge})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ge){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ge){return this.instances.has(e)}getOptions(e=ge){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[s,a]of this.instancesDeferred.entries()){let o=this.normalizeInstanceIdentifier(s);r===o&&a.resolve(i)}return i}onInit(e,t){let r=this.normalizeInstanceIdentifier(t),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);let s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:ia(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ge){return this.component?this.component.multipleInstances?e:ge:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};lt=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new gn(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}});var aa,m,oa,ca,ua,la,Re,ht=O(()=>{aa=[];(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(m||(m={}));oa={debug:m.DEBUG,verbose:m.VERBOSE,info:m.INFO,warn:m.WARN,error:m.ERROR,silent:m.SILENT},ca=m.INFO,ua={[m.DEBUG]:"log",[m.VERBOSE]:"log",[m.INFO]:"info",[m.WARN]:"warn",[m.ERROR]:"error"},la=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=ua[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Re=class{constructor(e){this.name=e,this._logLevel=ca,this._logHandler=la,this._userLogHandler=null,aa.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in m))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?oa[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,m.DEBUG,...e),this._logHandler(this,m.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,m.VERBOSE,...e),this._logHandler(this,m.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,m.INFO,...e),this._logHandler(this,m.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,m.WARN,...e),this._logHandler(this,m.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,m.ERROR,...e),this._logHandler(this,m.ERROR,...e)}}});function ha(){return pi||(pi=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function fa(){return mi||(mi=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}function pa(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",a)},s=()=>{t(H(n.result)),i()},a=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",a)});return e.then(t=>{t instanceof IDBCursor&&gi.set(t,n)}).catch(()=>{}),yn.set(e,n),e}function ma(n){if(_n.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",a),n.removeEventListener("abort",a)},s=()=>{t(),i()},a=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",a),n.addEventListener("abort",a)});_n.set(n,e)}function _i(n){En=n(En)}function ga(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(ft(this),e,...t);return Ii.set(r,e.sort?e.sort():[e]),H(r)}:fa().includes(n)?function(...e){return n.apply(ft(this),e),H(gi.get(this))}:function(...e){return H(n.apply(ft(this),e))}}function Ia(n){return typeof n=="function"?ga(n):(n instanceof IDBTransaction&&ma(n),da(n,ha())?new Proxy(n,En):n)}function H(n){if(n instanceof IDBRequest)return pa(n);if(In.has(n))return In.get(n);let e=Ia(n);return e!==n&&(In.set(n,e),yn.set(e,n)),e}var da,pi,mi,gi,_n,Ii,In,yn,En,ft,wn=O(()=>{da=(n,e)=>e.some(t=>n instanceof t);gi=new WeakMap,_n=new WeakMap,Ii=new WeakMap,In=new WeakMap,yn=new WeakMap;En={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return _n.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Ii.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return H(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};ft=n=>yn.get(n)});function yi(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){let a=indexedDB.open(n,e),o=H(a);return r&&a.addEventListener("upgradeneeded",c=>{r(H(a.result),c.oldVersion,c.newVersion,H(a.transaction),c)}),t&&a.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),o.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),o}function Ei(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(vn.get(e))return vn.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=Ea.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||_a.includes(t)))return;let s=async function(a,...o){let c=this.transaction(a,i?"readwrite":"readonly"),u=c.store;return r&&(u=u.index(o.shift())),(await Promise.all([u[t](...o),i&&c.done]))[0]};return vn.set(e,s),s}var _a,Ea,vn,wi=O(()=>{wn();wn();_a=["get","getKey","getAll","getAllKeys","count"],Ea=["put","add","delete","clear"],vn=new Map;_i(n=>({...n,get:(e,t,r)=>Ei(e,t)||n.get(e,t,r),has:(e,t)=>!!Ei(e,t)||n.has(e,t)}))});function ya(n){return n.getComponent()?.type==="VERSION"}function Ti(n,e){try{n.container.addComponent(e)}catch(t){Y.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Ae(n){let e=n.name;if(An.has(e))return Y.debug(`There were multiple attempts to register component ${e}.`),!1;An.set(e,n);for(let t of pt.values())Ti(t,n);for(let t of Ya.values())Ti(t,n);return!0}function On(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function T(n){return n==null?!1:n.settings!==void 0}function Xa(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r={name:Sn,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw se.create("bad-app-name",{appName:String(i)});if(t||(t=pn()),!t)throw se.create("no-options");let s=pt.get(i);if(s){if(ie(t,s.options)&&ie(r,s.config))return s;throw se.create("duplicate-app",{appName:i})}let a=new lt(i);for(let c of An.values())a.addComponent(c);let o=new Cn(t,r,a);return pt.set(i,o),o}function Ai(n=Sn){let e=pt.get(n);if(!e&&n===Sn&&pn())return Xa();if(!e)throw se.create("no-app",{appName:n});return e}function Se(n,e,t){let r=Ka[n]??n;t&&(r+=`-${t}`);let i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){let a=[`Unable to register library "${r}" with version "${e}":`];i&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Y.warn(a.join(" "));return}Ae(new W(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}function Ci(){return Tn||(Tn=yi(Qa,Za,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(xe)}catch(t){console.warn(t)}}}}).catch(n=>{throw se.create("idb-open",{originalErrorMessage:n.message})})),Tn}async function eo(n){try{let t=(await Ci()).transaction(xe),r=await t.objectStore(xe).get(ki(n));return await t.done,r}catch(e){if(e instanceof U)Y.warn(e.message);else{let t=se.create("idb-get",{originalErrorMessage:e?.message});Y.warn(t.message)}}}async function bi(n,e){try{let r=(await Ci()).transaction(xe,"readwrite");await r.objectStore(xe).put(e,ki(n)),await r.done}catch(t){if(t instanceof U)Y.warn(t.message);else{let r=se.create("idb-set",{originalErrorMessage:t?.message});Y.warn(r.message)}}}function ki(n){return`${n.name}!${n.options.appId}`}function Ri(){return new Date().toISOString().substring(0,10)}function ro(n,e=to){let t=[],r=n.slice();for(let i of n){let s=t.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),Si(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),Si(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}function Si(n){return hn(JSON.stringify({version:2,heartbeats:n})).length}function io(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function so(n){Ae(new W("platform-logger",e=>new bn(e),"PRIVATE")),Ae(new W("heartbeat",e=>new kn(e),"PRIVATE")),Se(Rn,vi,n),Se(Rn,vi,"esm2020"),Se("fire-js","")}var bn,Rn,vi,Y,wa,va,Ta,ba,Ra,Sa,Aa,Ca,ka,Pa,Oa,Na,Da,La,Ua,Ma,xa,Fa,Va,Wa,Ha,Ba,$a,Ga,ja,za,qa,Sn,Ka,pt,Ya,An,Ja,se,Cn,Ce,Qa,Za,xe,Tn,to,no,kn,Pn,Nn=O(()=>{dt();ht();be();be();wi();bn=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(ya(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};Rn="@firebase/app",vi="0.14.6";Y=new Re("@firebase/app"),wa="@firebase/app-compat",va="@firebase/analytics-compat",Ta="@firebase/analytics",ba="@firebase/app-check-compat",Ra="@firebase/app-check",Sa="@firebase/auth",Aa="@firebase/auth-compat",Ca="@firebase/database",ka="@firebase/data-connect",Pa="@firebase/database-compat",Oa="@firebase/functions",Na="@firebase/functions-compat",Da="@firebase/installations",La="@firebase/installations-compat",Ua="@firebase/messaging",Ma="@firebase/messaging-compat",xa="@firebase/performance",Fa="@firebase/performance-compat",Va="@firebase/remote-config",Wa="@firebase/remote-config-compat",Ha="@firebase/storage",Ba="@firebase/storage-compat",$a="@firebase/firestore",Ga="@firebase/ai",ja="@firebase/firestore-compat",za="firebase",qa="12.6.0";Sn="[DEFAULT]",Ka={[Rn]:"fire-core",[wa]:"fire-core-compat",[Ta]:"fire-analytics",[va]:"fire-analytics-compat",[Ra]:"fire-app-check",[ba]:"fire-app-check-compat",[Sa]:"fire-auth",[Aa]:"fire-auth-compat",[Ca]:"fire-rtdb",[ka]:"fire-data-connect",[Pa]:"fire-rtdb-compat",[Oa]:"fire-fn",[Na]:"fire-fn-compat",[Da]:"fire-iid",[La]:"fire-iid-compat",[Ua]:"fire-fcm",[Ma]:"fire-fcm-compat",[xa]:"fire-perf",[Fa]:"fire-perf-compat",[Va]:"fire-rc",[Wa]:"fire-rc-compat",[Ha]:"fire-gcs",[Ba]:"fire-gcs-compat",[$a]:"fire-fst",[ja]:"fire-fst-compat",[Ga]:"fire-vertex","fire-js":"fire-js",[za]:"fire-js-all"};pt=new Map,Ya=new Map,An=new Map;Ja={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},se=new K("app","Firebase",Ja);Cn=class{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new W("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw se.create("app-deleted",{appName:this._name})}};Ce=qa;Qa="firebase-heartbeat-database",Za=1,xe="firebase-heartbeat-store",Tn=null;to=1024,no=30,kn=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new Pn(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{let t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Ri();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>no){let i=io(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Y.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";let e=Ri(),{heartbeatsToSend:t,unsentEntries:r}=ro(this._heartbeatsCache.heartbeats),i=hn(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return Y.warn(e),""}}};Pn=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return li()?di().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){let t=await eo(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){let r=await this.read();return bi(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){let r=await this.read();return bi(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}};so("")});function Yi(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}function ao(n,...e){wt.logLevel<=m.WARN&&wt.warn(`Auth (${Ce}): ${n}`,...e)}function It(n,...e){wt.logLevel<=m.ERROR&&wt.error(`Auth (${Ce}): ${n}`,...e)}function D(n,...e){throw lr(n,...e)}function P(n,...e){return lr(n,...e)}function ur(n,e,t){let r={...Ji(),[e]:t};return new K("auth","Firebase",r).create(e,{appName:n.name})}function A(n){return ur(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function jt(n,e,t){let r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&D(n,"argument-error"),ur(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function lr(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return Xi.create(n,...e)}function d(n,e,...t){if(!n)throw lr(e,...t)}function B(n){let e="INTERNAL ASSERTION FAILED: "+n;throw It(e),new Error(e)}function X(n,e){n||B(e)}function Ge(){return typeof self<"u"&&self.location?.href||""}function dr(){return Pi()==="http:"||Pi()==="https:"}function Pi(){return typeof self<"u"&&self.location?.protocol||null}function oo(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(dr()||oi()||"connection"in navigator)?navigator.onLine:!0}function co(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}function hr(n,e){X(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}function I(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function _(n,e,t,r,i={}){return Qi(n,i,async()=>{let s={},a={};r&&(e==="GET"?a=r:s={body:JSON.stringify(r)});let o=me({key:n.config.apiKey,...a}).slice(1),c=await n._getAdditionalHeaders();c["Content-Type"]="application/json",n.languageCode&&(c["X-Firebase-Locale"]=n.languageCode);let u={method:e,headers:c,...s};return ai()||(u.referrerPolicy="no-referrer"),n.emulatorConfig&&Me(n.emulatorConfig.host)&&(u.credentials="include"),vt.fetch()(await Zi(n,n.config.apiHost,t,o),u)})}async function Qi(n,e,t){n._canInitEmulator=!1;let r={...uo,...e};try{let i=new Vn(n),s=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();let a=await s.json();if("needConfirmation"in a)throw Ve(n,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{let o=s.ok?a.errorMessage:a.error.message,[c,u]=o.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ve(n,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw Ve(n,"email-already-in-use",a);if(c==="USER_DISABLED")throw Ve(n,"user-disabled",a);let h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw ur(n,h,u);D(n,h)}}catch(i){if(i instanceof U)throw i;D(n,"network-request-failed",{message:String(i)})}}async function Z(n,e,t,r,i={}){let s=await _(n,e,t,r,i);return"mfaPendingCredential"in s&&D(n,"multi-factor-auth-required",{_serverResponse:s}),s}async function Zi(n,e,t,r){let i=`${e}${t}?${r}`,s=n,a=s.config.emulator?hr(n.config,i):`${n.config.apiScheme}://${i}`;return lo.includes(t)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(a).toString():a}function fo(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}function Ve(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=P(n,e,r);return i.customData._tokenResponse=t,i}function Oi(n){return n!==void 0&&n.getResponse!==void 0}function Ni(n){return n!==void 0&&n.enterprise!==void 0}async function po(n){return(await _(n,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function es(n,e){return _(n,"GET","/v2/recaptchaConfig",I(n,e))}async function mo(n,e){return _(n,"POST","/v1/accounts:delete",e)}async function go(n,e){return _(n,"POST","/v1/accounts:update",e)}async function bt(n,e){return _(n,"POST","/v1/accounts:lookup",e)}function We(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ts(n,e=!1){let t=g(n),r=await t.getIdToken(e),i=zt(r);d(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,a=s?.sign_in_provider;return{claims:i,token:r,authTime:We(Dn(i.auth_time)),issuedAtTime:We(Dn(i.iat)),expirationTime:We(Dn(i.exp)),signInProvider:a||null,signInSecondFactor:s?.sign_in_second_factor||null}}function Dn(n){return Number(n)*1e3}function zt(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return It("JWT malformed, contained fewer than 3 sections"),null;try{let i=ut(t);return i?JSON.parse(i):(It("Failed to decode base64 JWT payload"),null)}catch(i){return It("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Di(n){let e=zt(n);return d(e,"internal-error"),d(typeof e.exp<"u","internal-error"),d(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function _e(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof U&&Io(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function Io({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}async function ze(n){let e=n.auth,t=await n.getIdToken(),r=await _e(n,bt(e,{idToken:t}));d(r?.users.length,e,"internal-error");let i=r.users[0];n._notifyReloadListener(i);let s=i.providerUserInfo?.length?ns(i.providerUserInfo):[],a=_o(n.providerData,s),o=n.isAnonymous,c=!(n.email&&i.passwordHash)&&!a?.length,u=o?c:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new je(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(n,h)}async function qt(n){let e=g(n);await ze(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function _o(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function ns(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function Eo(n,e){let t=await Qi(n,{},async()=>{let r=me({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,a=await Zi(n,i,"/v1/token",`key=${s}`),o=await n._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";let c={method:"POST",headers:o,body:r};return n.emulatorConfig&&Me(n.emulatorConfig.host)&&(c.credentials="include"),vt.fetch()(a,c)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function yo(n,e){return _(n,"POST","/v2/accounts:revokeToken",I(n,e))}function ae(n,e){d(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}function J(n){X(n instanceof Function,"Expected a class definition");let e=Li.get(n);return e?(X(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Li.set(n,e),e)}function _t(n,e,t){return`firebase:${n}:${e}:${t}`}function Ui(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(as(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(rs(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(cs(e))return"Blackberry";if(us(e))return"Webos";if(is(e))return"Safari";if((e.includes("chrome/")||ss(e))&&!e.includes("edge/"))return"Chrome";if(os(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function rs(n=S()){return/firefox\//i.test(n)}function is(n=S()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ss(n=S()){return/crios\//i.test(n)}function as(n=S()){return/iemobile/i.test(n)}function os(n=S()){return/android/i.test(n)}function cs(n=S()){return/blackberry/i.test(n)}function us(n=S()){return/webos/i.test(n)}function fr(n=S()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function wo(n=S()){return fr(n)&&!!window.navigator?.standalone}function vo(){return ui()&&document.documentMode===10}function ls(n=S()){return fr(n)||os(n)||us(n)||cs(n)||/windows phone/i.test(n)||as(n)}function ds(n,e=[]){let t;switch(n){case"Browser":t=Ui(S());break;case"Worker":t=`${Ui(S())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ce}/${r}`}async function To(n,e={}){return _(n,"GET","/v2/passwordPolicy",I(n,e))}function b(n){return g(n)}function Ro(n){Ze=n}function pr(n){return Ze.loadJS(n)}function So(){return Ze.recaptchaV2Script}function Ao(){return Ze.recaptchaEnterpriseScript}function Co(){return Ze.gapiScript}function hs(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function Oo(n){let e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<n;r++)e.push(t.charAt(Math.floor(Math.random()*t.length)));return e.join("")}async function Fe(n,e,t,r=!1,i=!1){let s=new Ct(n),a;if(i)a=Be;else try{a=await s.verify(t)}catch{a=await s.verify(t,!0)}let o={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in o){let c=o.phoneEnrollmentInfo.phoneNumber,u=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:u,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){let c=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return r?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function ce(n,e,t,r,i){if(i==="EMAIL_PASSWORD_PROVIDER")if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=await Fe(n,e,t,t==="getOobCode");return r(n,s)}else return r(n,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let a=await Fe(n,e,t,t==="getOobCode");return r(n,a)}else return Promise.reject(s)});else if(i==="PHONE_PROVIDER")if(n._getRecaptchaConfig()?.isProviderEnabled("PHONE_PROVIDER")){let s=await Fe(n,e,t);return r(n,s).catch(async a=>{if(n._getRecaptchaConfig()?.getProviderEnforcementState("PHONE_PROVIDER")==="AUDIT"&&(a.code==="auth/missing-recaptcha-token"||a.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);let o=await Fe(n,e,t,!1,!0);return r(n,o)}return Promise.reject(a)})}else{let s=await Fe(n,e,t,!1,!0);return r(n,s)}else return Promise.reject(i+" provider is not supported.")}async function Do(n){let e=b(n),t=await es(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new Tt(t);e.tenantId==null?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.isAnyProviderEnabled()&&new Ct(e).verify()}function fs(n,e){let t=On(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),s=t.getOptions();if(ie(s,e??{}))return i;D(i,"already-initialized")}return t.initialize({options:e})}function Lo(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(J);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function et(n,e,t){let r=b(n);d(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,s=ps(e),{host:a,port:o}=Uo(e),c=o===null?"":`:${o}`,u={url:`${s}//${a}${c}/`},h=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){d(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),d(ie(u,r.config.emulator)&&ie(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Me(a)?(ri(`${s}//${a}${c}`),ii("Auth",!0)):i||Mo()}function ps(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function Uo(n){let e=ps(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:Mi(r.substr(s.length+1))}}else{let[s,a]=r.split(":");return{host:s,port:Mi(a)}}}function Mi(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function Mo(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}async function xo(n,e){return _(n,"POST","/v1/accounts:resetPassword",I(n,e))}async function Fo(n,e){return _(n,"POST","/v1/accounts:update",e)}async function Vo(n,e){return _(n,"POST","/v1/accounts:signUp",e)}async function Wo(n,e){return _(n,"POST","/v1/accounts:update",I(n,e))}async function Ho(n,e){return Z(n,"POST","/v1/accounts:signInWithPassword",I(n,e))}async function Kt(n,e){return _(n,"POST","/v1/accounts:sendOobCode",I(n,e))}async function Bo(n,e){return Kt(n,e)}async function $o(n,e){return Kt(n,e)}async function Go(n,e){return Kt(n,e)}async function jo(n,e){return Kt(n,e)}async function zo(n,e){return Z(n,"POST","/v1/accounts:signInWithEmailLink",I(n,e))}async function qo(n,e){return Z(n,"POST","/v1/accounts:signInWithEmailLink",I(n,e))}async function ke(n,e){return Z(n,"POST","/v1/accounts:signInWithIdp",I(n,e))}async function xi(n,e){return _(n,"POST","/v1/accounts:sendVerificationCode",I(n,e))}async function Yo(n,e){return Z(n,"POST","/v1/accounts:signInWithPhoneNumber",I(n,e))}async function Jo(n,e){let t=await Z(n,"POST","/v1/accounts:signInWithPhoneNumber",I(n,e));if(t.temporaryProof)throw Ve(n,"account-exists-with-different-credential",t);return t}async function Qo(n,e){let t={...e,operation:"REAUTH"};return Z(n,"POST","/v1/accounts:signInWithPhoneNumber",I(n,t),Xo)}function Zo(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function ec(n){let e=ve(Te(n)).link,t=e?ve(Te(e)).deep_link_id:null,r=ve(Te(n)).deep_link_id;return(r?ve(Te(r)).link:null)||r||t||e||n}async function ms(n,e){return Z(n,"POST","/v1/accounts:signUp",I(n,e))}function Fi(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}async function mr(n){if(T(n.app))return Promise.reject(A(n));let e=b(n);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new Q({user:e.currentUser,providerId:null,operationType:"signIn"});let t=await ms(e,{returnSecureToken:!0}),r=await Q._fromIdTokenResponse(e,"signIn",t,!0);return await e._updateCurrentUser(r.user),r}function gs(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Kn._fromErrorAndOperation(n,s,e,r):s})}function Is(n){return new Set(n.map(({providerId:e})=>e).filter(e=>!!e))}async function gr(n,e){let t=g(n);await Yt(!0,t,e);let{providerUserInfo:r}=await go(t.auth,{idToken:await t.getIdToken(),deleteProvider:[e]}),i=Is(r||[]);return t.providerData=t.providerData.filter(s=>i.has(s.providerId)),i.has("phone")||(t.phoneNumber=null),await t.auth._persistUserIfCurrent(t),t}async function _s(n,e,t=!1){let r=await _e(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Q._forOperation(n,"link",r)}async function Yt(n,e,t){await ze(e);let r=Is(e.providerData),i=n===!1?"provider-already-linked":"no-such-provider";d(r.has(t)===n,e.auth,i)}async function tc(n,e,t=!1){let{auth:r}=n;if(T(r.app))return Promise.reject(A(r));let i="reauthenticate";try{let s=await _e(n,gs(r,i,e,n),t);d(s.idToken,r,"internal-error");let a=zt(s.idToken);d(a,r,"internal-error");let{sub:o}=a;return d(n.uid===o,r,"user-mismatch"),Q._forOperation(n,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&D(r,"user-mismatch"),s}}async function Es(n,e,t=!1){if(T(n.app))return Promise.reject(A(n));let r="signIn",i=await gs(n,r,e),s=await Q._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(s.user),s}async function Jt(n,e){return Es(b(n),e)}async function Xt(n,e){let t=g(n);return await Yt(!1,t,e.providerId),_s(t,e)}async function nc(n,e){return Z(n,"POST","/v1/accounts:signInWithCustomToken",I(n,e))}async function Ir(n,e){if(T(n.app))return Promise.reject(A(n));let t=b(n),r=await nc(t,{token:e,returnSecureToken:!0}),i=await Q._fromIdTokenResponse(t,"signIn",r);return await t._updateCurrentUser(i.user),i}function Qt(n,e,t){d(t.url?.length>0,n,"invalid-continue-uri"),d(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),d(typeof t.linkDomain>"u"||t.linkDomain.length>0,n,"invalid-hosting-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.linkDomain=t.linkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(d(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(d(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}async function _r(n){let e=b(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Er(n,e,t){let r=b(n),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};t&&Qt(r,i,t),await ce(r,i,"getOobCode",$o,"EMAIL_PASSWORD_PROVIDER")}async function yr(n,e,t){await xo(g(n),{oobCode:e,newPassword:t}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&_r(n),r})}async function wr(n,e){await Wo(g(n),{oobCode:e})}async function vr(n,e,t){if(T(n.app))return Promise.reject(A(n));let r=b(n),a=await ce(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ms,"EMAIL_PASSWORD_PROVIDER").catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&_r(n),c}),o=await Q._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(o.user),o}function Tr(n,e,t){return T(n.app)?Promise.reject(A(n)):Jt(g(n),x.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&_r(n),r})}async function br(n,e,t){let r=b(n),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function s(a,o){d(o.handleCodeInApp,r,"argument-error"),o&&Qt(r,a,o)}s(i,t),await ce(r,i,"getOobCode",Go,"EMAIL_PASSWORD_PROVIDER")}function Rr(n,e){return Ye.parseLink(e)?.operation==="EMAIL_SIGNIN"}async function Sr(n,e,t){if(T(n.app))return Promise.reject(A(n));let r=g(n),i=x.credentialWithLink(e,t||Ge());return d(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Jt(r,i)}async function rc(n,e){return _(n,"POST","/v1/accounts:createAuthUri",I(n,e))}async function Ar(n,e){let t=dr()?Ge():"http://localhost",r={identifier:e,continueUri:t},{signinMethods:i}=await rc(g(n),r);return i||[]}async function Cr(n,e){let t=g(n),i={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()};e&&Qt(t.auth,i,e);let{email:s}=await Bo(t.auth,i);s!==n.email&&await n.reload()}async function kr(n,e,t){let r=g(n),s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await n.getIdToken(),newEmail:e};t&&Qt(r.auth,s,t);let{email:a}=await jo(r.auth,s);a!==n.email&&await n.reload()}async function ic(n,e){return _(n,"POST","/v1/accounts:update",e)}async function Pr(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;let r=g(n),s={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},a=await _e(r,ic(r.auth,s));r.displayName=a.displayName||null,r.photoURL=a.photoUrl||null;let o=r.providerData.find(({providerId:c})=>c==="password");o&&(o.displayName=r.displayName,o.photoURL=r.photoURL),await r._updateTokensIfNecessary(a)}function Or(n,e){let t=g(n);return T(t.auth.app)?Promise.reject(A(t.auth)):ys(t,e,null)}function Nr(n,e){return ys(g(n),null,e)}async function ys(n,e,t){let{auth:r}=n,s={idToken:await n.getIdToken(),returnSecureToken:!0};e&&(s.email=e),t&&(s.password=t);let a=await _e(n,Fo(r,s));await n._updateTokensIfNecessary(a,!0)}function sc(n){if(!n)return null;let{providerId:e}=n,t=n.rawUserInfo?JSON.parse(n.rawUserInfo):{},r=n.isNewUser||n.kind==="identitytoolkit#SignupNewUserResponse";if(!e&&n?.idToken){let i=zt(n.idToken)?.firebase?.sign_in_provider;if(i){let s=i!=="anonymous"&&i!=="custom"?i:null;return new ue(r,s)}}if(!e)return null;switch(e){case"facebook.com":return new Yn(r,t);case"github.com":return new Jn(r,t);case"google.com":return new Xn(r,t);case"twitter.com":return new Qn(r,t,n.screenName||null);case"custom":case"anonymous":return new ue(r,null);default:return new ue(r,e,t)}}function Dr(n){let{user:e,_tokenResponse:t}=n;return e.isAnonymous&&!t?{providerId:null,isNewUser:!1,profile:null}:sc(t)}function Ne(n,e){return g(n).setPersistence(e)}function ws(n,e,t,r){return g(n).onIdTokenChanged(e,t,r)}function vs(n,e,t){return g(n).beforeAuthStateChanged(e,t)}function Lr(n,e){return b(n).revokeAccessToken(e)}async function Ur(n){return g(n).delete()}function Vi(n,e){return _(n,"POST","/v2/accounts/mfaEnrollment:start",I(n,e))}function ac(n,e){return _(n,"POST","/v2/accounts/mfaEnrollment:finalize",I(n,e))}function oc(n,e){return _(n,"POST","/v2/accounts/mfaEnrollment:start",I(n,e))}function cc(n,e){return _(n,"POST","/v2/accounts/mfaEnrollment:finalize",I(n,e))}function Ln(n){let e=n.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),t=RegExp(`${e}=([^;]+)`);return document.cookie.match(t)?.[1]??null}function Un(n){return`${window.location.protocol==="http:"?"__dev_":"__HOST-"}FIREBASE_${n.split(":")[3]}`}function hc(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}function en(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}function v(){return window}function fc(n){v().location.href=n}function Mr(){return typeof v().WorkerGlobalScope<"u"&&typeof v().importScripts=="function"}async function pc(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function mc(){return navigator?.serviceWorker?.controller||null}function gc(){return Mr()?self:null}function tn(n,e){return n.transaction([Ut],e?"readwrite":"readonly").objectStore(Ut)}function _c(){let n=indexedDB.deleteDatabase(Ts);return new ye(n).toPromise()}function tr(){let n=indexedDB.open(Ts,Ic);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(Ut,{keyPath:bs})}catch(i){t(i)}}),n.addEventListener("success",async()=>{let r=n.result;r.objectStoreNames.contains(Ut)?e(r):(r.close(),await _c(),e(await tr()))})})}async function Wi(n,e,t){let r=tn(n,!0).put({[bs]:e,value:t});return new ye(r).toPromise()}async function Ec(n,e){let t=tn(n,!1).get(e),r=await new ye(t).toPromise();return r===void 0?null:r.value}function Hi(n,e){let t=tn(n,!0).delete(e);return new ye(t).toPromise()}function Bi(n,e){return _(n,"POST","/v2/accounts/mfaSignIn:start",I(n,e))}function vc(n,e){return _(n,"POST","/v2/accounts/mfaSignIn:finalize",I(n,e))}function Tc(n,e){return _(n,"POST","/v2/accounts/mfaSignIn:finalize",I(n,e))}function Rc(n){return n.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(n)}function Ac(){let n=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}n=()=>e(),window.addEventListener("load",n)}).catch(e=>{throw n&&window.removeEventListener("load",n),e})}async function xr(n,e,t){if(T(n.app))return Promise.reject(A(n));let r=b(n),i=await Vr(r,e,g(t));return new xt(i,s=>Jt(r,s))}async function Fr(n,e,t){let r=g(n);await Yt(!1,r,"phone");let i=await Vr(r.auth,e,g(t));return new xt(i,s=>Xt(r,s))}async function Vr(n,e,t){if(!n._getRecaptchaConfig())try{await Do(n)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let r;if(typeof e=="string"?r={phoneNumber:e}:r=e,"session"in r){let i=r.session;if("phoneNumber"in r){d(i.type==="enroll",n,"internal-error");let s={idToken:i.credential,phoneEnrollmentInfo:{phoneNumber:r.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await ce(n,s,"mfaSmsEnrollment",async(u,h)=>{if(h.phoneEnrollmentInfo.captchaResponse===Be){d(t?.type===$e,u,"argument-error");let f=await xn(u,h,t);return Vi(u,f)}return Vi(u,h)},"PHONE_PROVIDER").catch(u=>Promise.reject(u))).phoneSessionInfo.sessionInfo}else{d(i.type==="signin",n,"internal-error");let s=r.multiFactorHint?.uid||r.multiFactorUid;d(s,n,"missing-multi-factor-info");let a={mfaPendingCredential:i.credential,mfaEnrollmentId:s,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await ce(n,a,"mfaSmsSignIn",async(h,f)=>{if(f.phoneSignInInfo.captchaResponse===Be){d(t?.type===$e,h,"argument-error");let l=await xn(h,f,t);return Bi(h,l)}return Bi(h,f)},"PHONE_PROVIDER").catch(h=>Promise.reject(h))).phoneResponseInfo.sessionInfo}}else{let i={phoneNumber:r.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await ce(n,i,"sendVerificationCode",async(c,u)=>{if(u.captchaResponse===Be){d(t?.type===$e,c,"argument-error");let h=await xn(c,u,t);return xi(c,h)}return xi(c,u)},"PHONE_PROVIDER").catch(c=>Promise.reject(c))).sessionInfo}}finally{t?._reset()}}async function xn(n,e,t){d(t.type===$e,n,"argument-error");let r=await t.verify();d(typeof r=="string",n,"argument-error");let i={...e};if("phoneEnrollmentInfo"in i){let s=i.phoneEnrollmentInfo.phoneNumber,a=i.phoneEnrollmentInfo.captchaResponse,o=i.phoneEnrollmentInfo.clientType,c=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:s,recaptchaToken:r,captchaResponse:a,clientType:o,recaptchaVersion:c}}),i}else if("phoneSignInInfo"in i){let s=i.phoneSignInInfo.captchaResponse,a=i.phoneSignInInfo.clientType,o=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:s,clientType:a,recaptchaVersion:o}}),i}else return Object.assign(i,{recaptchaToken:r}),i}function nt(n,e){return e?J(e):(d(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}function Cc(n){return Es(n.auth,new Xe(n),n.bypassAuthState)}function kc(n){let{auth:e,user:t}=n;return d(t,e,"internal-error"),tc(t,new Xe(n),n.bypassAuthState)}async function Pc(n){let{auth:e,user:t}=n;return d(t,e,"internal-error"),_s(t,new Xe(n),n.bypassAuthState)}async function Wr(n,e,t){if(T(n.app))return Promise.reject(P(n,"operation-not-supported-in-this-environment"));let r=b(n);jt(n,e,le);let i=nt(r,t);return new Qe(r,"signInViaPopup",e,i).executeNotNull()}async function Hr(n,e,t){let r=g(n);jt(r.auth,e,le);let i=nt(r.auth,t);return new Qe(r.auth,"linkViaPopup",e,i,r).executeNotNull()}async function Dc(n,e){let t=As(e),r=Ss(n);if(!await r._isAvailable())return!1;let i=await r._get(t)==="true";return await r._remove(t),i}async function Rs(n,e){return Ss(n)._set(As(e),"true")}function Lc(n,e){Et.set(n._key(),e)}function Ss(n){return J(n._redirectPersistence)}function As(n){return _t(Nc,n.config.apiKey,n.name)}function Br(n,e,t){return Uc(n,e,t)}async function Uc(n,e,t){if(T(n.app))return Promise.reject(A(n));let r=b(n);jt(n,e,le),await r._initializationPromise;let i=nt(r,t);return await Rs(i,r),i._openRedirect(r,e,"signInViaRedirect")}function $r(n,e,t){return Mc(n,e,t)}async function Mc(n,e,t){let r=g(n);jt(r.auth,e,le),await r.auth._initializationPromise;let i=nt(r.auth,t);await Yt(!1,r,e.providerId),await Rs(i,r.auth);let s=await xc(r);return i._openRedirect(r.auth,e,"linkViaRedirect",s)}async function Gr(n,e){return await b(n)._initializationPromise,Cs(n,e,!1)}async function Cs(n,e,t=!1){if(T(n.app))return Promise.reject(A(n));let r=b(n),i=nt(r,e),a=await new ir(r,i,t).execute();return a&&!t&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}async function xc(n){let e=en(`${n.uid}:::`);return n._redirectEventId=e,await n.auth._setRedirectUser(n),await n.auth._persistUserIfCurrent(n),e}function $i(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function ks({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function Vc(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ks(n);default:return!1}}async function Wc(n,e={}){return _(n,"GET","/v1/projects",e)}async function $c(n){if(n.config.emulator)return;let{authorizedDomains:e}=await Wc(n);for(let t of e)try{if(Gc(t))return}catch{}D(n,"unauthorized-domain")}function Gc(n){let e=Ge(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let a=new URL(n);return a.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&a.hostname===r}if(!Bc.test(t))return!1;if(Hc.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}function Gi(){let n=v().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function zc(n){return new Promise((e,t)=>{function r(){Gi(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Gi(),t(P(n,"network-request-failed"))},timeout:jc.get()})}if(v().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(v().gapi?.load)r();else{let i=hs("iframefcb");return v()[i]=()=>{gapi.load?r():t(P(n,"network-request-failed"))},pr(`${Co()}?onload=${i}`).catch(s=>t(s))}}).catch(e=>{throw yt=null,e})}function qc(n){return yt=yt||zc(n),yt}function Zc(n){let e=n.config;d(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?hr(e,Jc):`https://${n.config.authDomain}/${Yc}`,r={apiKey:e.apiKey,appName:n.name,v:Ce},i=Qc.get(n.config.apiHost);i&&(r.eid=i);let s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${me(r).slice(1)}`}async function eu(n){let e=await qc(n),t=v().gapi;return d(t,n,"internal-error"),e.open({where:document.body,url:Zc(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Xc,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});let a=P(n,"network-request-failed"),o=v().setTimeout(()=>{s(a)},Kc.get());function c(){v().clearTimeout(o),i(r)}r.ping(c).then(c,()=>{s(a)})}))}function au(n,e,t,r=nu,i=ru){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString(),o="",c={...tu,width:r.toString(),height:i.toString(),top:s,left:a},u=S().toLowerCase();t&&(o=ss(u)?iu:t),rs(u)&&(e=e||su,c.scrollbars="yes");let h=Object.entries(c).reduce((l,[E,w])=>`${l}${E}=${w},`,"");if(wo(u)&&o!=="_self")return ou(e||"",o),new Vt(null);let f=window.open(e||"",o,h);d(f,n,"popup-blocked");try{f.focus()}catch{}return new Vt(f)}function ou(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}async function ji(n,e,t,r,i,s){d(n.config.authDomain,n,"auth-domain-config-required"),d(n.config.apiKey,n,"invalid-api-key");let a={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Ce,eventId:i};if(e instanceof le){e.setDefaultLanguage(n.languageCode),a.providerId=e.providerId||"",hi(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,f]of Object.entries(s||{}))a[h]=f}if(e instanceof de){let h=e.getScopes().filter(f=>f!=="");h.length>0&&(a.scopes=h.join(","))}n.tenantId&&(a.tid=n.tenantId);let o=a;for(let h of Object.keys(o))o[h]===void 0&&delete o[h];let c=await n._getAppCheckToken(),u=c?`#${lu}=${encodeURIComponent(c)}`:"";return`${du(n)}?${me(o).slice(1)}${u}`}function du({config:n}){return n.emulator?hr(n,uu):`https://${n.authDomain}/${cu}`}function gt(n){return typeof n>"u"||n?.length===0}function hu(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function fu(n){Ae(new W("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;d(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:a,authDomain:o,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ds(n)},u=new $n(r,i,s,c);return Lo(u,t),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Ae(new W("auth-internal",e=>{let t=b(e.getProvider("auth").getImmediate());return(r=>new cr(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Se(zi,qi,hu(n)),Se(zi,qi,"esm2020")}function p(n=Ai()){let e=On(n,"auth");if(e.isInitialized())return e.getImmediate();let t=fs(n,{popupRedirectResolver:Ps,persistence:[nn,Zt,tt]}),r=mn("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let a=gu(s.toString());vs(t,a,()=>a(t.currentUser)),ws(t,o=>a(o))}}let i=ni("auth");return i&&et(t,`http://${i}`),t}function Iu(){return document.getElementsByTagName("head")?.[0]??document}var Ji,Xi,wt,Ie,vt,uo,lo,ho,Vn,Tt,Wn,je,He,oe,Li,Rt,qe,St,Hn,bo,Bn,$n,At,Ze,ko,Po,mt,Gn,jn,zn,qn,No,Be,Ct,Ee,Ke,Ko,M,Xo,Pe,Ye,x,le,de,y,$,G,j,z,Q,Kn,ue,kt,Yn,Jn,Xn,Qn,Pt,Ot,uc,lc,Nt,Zt,dc,Zn,Dt,tt,Lt,er,Ts,Ic,Ut,bs,ye,yc,wc,Mt,nn,Mn,bc,nr,rr,$e,Sc,Oe,xt,Je,Xe,Ft,Oc,Qe,Nc,Et,ir,Fc,sr,Hc,Bc,jc,yt,Kc,Yc,Jc,Xc,Qc,tu,nu,ru,iu,su,Vt,cu,uu,lu,Fn,ar,Ps,Wt,or,Ht,Bt,$t,Gt,zi,qi,cr,pu,mu,Ki,gu,Os=O(()=>{Nn();be();ht();dt();Ji=Yi,Xi=new K("auth","Firebase",Yi());wt=new Re("@firebase/auth");Ie=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,X(t>e,"Short delay should be less than long delay!"),this.isMobile=si()||ci()}get(){return oo()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};vt=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;B("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;B("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;B("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};uo={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};lo=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],ho=new Ie(3e4,6e4);Vn=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(P(this.auth,"network-request-failed")),ho.get())})}};Tt=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return fo(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};Wn=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){let t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;let r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}};je=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=We(this.lastLoginAt),this.creationTime=We(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};He=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){d(e.idToken,"internal-error"),d(typeof e.idToken<"u","internal-error"),d(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Di(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){d(e.length!==0,"internal-error");let t=Di(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(d(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){let{accessToken:r,refreshToken:i,expiresIn:s}=await Eo(e,t);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:s}=t,a=new n;return r&&(d(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(d(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(d(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return B("not implemented")}};oe=class n{constructor({uid:e,auth:t,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new Wn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new je(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){let t=await _e(this,this.stsTokenManager.getToken(this.auth,e));return d(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return ts(this,e)}reload(){return qt(this)}_assign(e){this!==e&&(d(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){d(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await ze(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(T(this.auth.app))return Promise.reject(A(this.auth));let e=await this.getIdToken();return await _e(this,mo(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){let r=t.displayName??void 0,i=t.email??void 0,s=t.phoneNumber??void 0,a=t.photoURL??void 0,o=t.tenantId??void 0,c=t._redirectEventId??void 0,u=t.createdAt??void 0,h=t.lastLoginAt??void 0,{uid:f,emailVerified:l,isAnonymous:E,providerData:w,stsTokenManager:N}=t;d(f&&N,e,"internal-error");let C=He.fromJSON(this.name,N);d(typeof f=="string",e,"internal-error"),ae(r,e.name),ae(i,e.name),d(typeof l=="boolean",e,"internal-error"),d(typeof E=="boolean",e,"internal-error"),ae(s,e.name),ae(a,e.name),ae(o,e.name),ae(c,e.name),ae(u,e.name),ae(h,e.name);let ee=new n({uid:f,auth:e,email:i,emailVerified:l,displayName:r,isAnonymous:E,photoURL:a,phoneNumber:s,tenantId:o,stsTokenManager:C,createdAt:u,lastLoginAt:h});return w&&Array.isArray(w)&&(ee.providerData=w.map(te=>({...te}))),c&&(ee._redirectEventId=c),ee}static async _fromIdTokenResponse(e,t,r=!1){let i=new He;i.updateFromServerResponse(t);let s=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await ze(s),s}static async _fromGetAccountInfoResponse(e,t,r){let i=t.users[0];d(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?ns(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!s?.length,o=new He;o.updateFromIdToken(r);let c=new n({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new je(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(c,u),c}};Li=new Map;Rt=class{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){let t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}};Rt.type="NONE";qe=Rt;St=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=_t(this.userKey,i.apiKey,s),this.fullPersistenceKey=_t("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){let e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=await bt(this.auth,{idToken:e}).catch(()=>{});return t?oe._fromGetAccountInfoResponse(this.auth,t,e):null}return oe._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;let t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new n(J(qe),e,r);let i=(await Promise.all(t.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u),s=i[0]||J(qe),a=_t(r,e.config.apiKey,e.name),o=null;for(let u of t)try{let h=await u._get(a);if(h){let f;if(typeof h=="string"){let l=await bt(e,{idToken:h}).catch(()=>{});if(!l)break;f=await oe._fromGetAccountInfoResponse(e,l,h)}else f=oe._fromJSON(e,h);u!==s&&(o=f),s=u;break}}catch{}let c=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new n(s,e,r):(s=c[0],o&&await s._set(a,o.toJSON()),await Promise.all(t.map(async u=>{if(u!==s)try{await u._remove(a)}catch{}})),new n(s,e,r))}};Hn=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=s=>new Promise((a,o)=>{try{let c=e(s);a(c)}catch(c){o(c)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}};bo=6,Bn=class{constructor(e){let t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??bo,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){let t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};$n=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new At(this),this.idTokenSubscription=new At(this),this.beforeStateQueue=new Hn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Xi,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=J(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await St.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{let t=await bt(this,{idToken:e}),r=await oe._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(T(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let t=await this.assertedPersistence.getCurrentUser(),r=t,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let s=this.redirectUser?._redirectEventId,a=r?._redirectEventId,o=await this.tryRedirectSignIn(e);(!s||s===a)&&o?.user&&(r=o.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return d(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await ze(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=co()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(T(this.app))return Promise.reject(A(this));let t=e?g(e):null;return t&&d(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&d(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return T(this.app)?Promise.reject(A(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return T(this.app)?Promise.reject(A(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(J(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){let e=await To(this),t=new Bn(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new K("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){let t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await yo(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){let r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){let t=e&&J(e)||this._popupRedirectResolver;d(t,this,"argument-error"),this.redirectPersistenceManager=await St.create(this,[J(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let s=typeof t=="function"?t:t.next.bind(t),a=!1,o=this._isInitialized?Promise.resolve():this._initializationPromise;if(d(o,this,"internal-error"),o.then(()=>{a||s(this.currentUser)}),typeof t=="function"){let c=e.addObserver(t,r,i);return()=>{a=!0,c()}}else{let c=e.addObserver(t);return()=>{a=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return d(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ds(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){let e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);let t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);let r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(T(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&ao(`Error while retrieving App Check token: ${e.error}`),e?.token}};At=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=fi(t=>this.observer=t)}get next(){return d(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};Ze={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};ko=500,Po=6e4,mt=1e12,Gn=class{constructor(e){this.auth=e,this.counter=mt,this._widgets=new Map}render(e,t){let r=this.counter;return this._widgets.set(r,new qn(e,this.auth.name,t||{})),this.counter++,r}reset(e){let t=e||mt;this._widgets.get(t)?.delete(),this._widgets.delete(t)}getResponse(e){let t=e||mt;return this._widgets.get(t)?.getResponse()||""}async execute(e){let t=e||mt;return this._widgets.get(t)?.execute(),""}},jn=class{constructor(){this.enterprise=new zn}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}},zn=class{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}},qn=class{constructor(e,t,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};let i=typeof e=="string"?document.getElementById(e):e;d(i,"argument-error",{appName:t}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=Oo(50);let{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch{}this.isVisible&&this.execute()},Po)},ko))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}};No="recaptcha-enterprise",Be="NO_RECAPTCHA",Ct=class{constructor(e){this.type=No,this.auth=b(e)}async verify(e="verify",t=!1){async function r(s){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,o)=>{es(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{let u=new Tt(c);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,a(u.siteKey)}}).catch(c=>{o(c)})})}function i(s,a,o){let c=window.grecaptcha;Ni(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(u=>{a(u)}).catch(()=>{a(Be)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new jn().execute("siteKey",{action:"verify"}):new Promise((s,a)=>{r(this.auth).then(o=>{if(!t&&Ni(window.grecaptcha))i(o,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let c=Ao();c.length!==0&&(c+=o),pr(c).then(()=>{i(o,s,a)}).catch(u=>{a(u)})}}).catch(o=>{a(o)})})}};Ee=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return B("not implemented")}_getIdTokenResponse(e){return B("not implemented")}_linkToIdToken(e,t){return B("not implemented")}_getReauthenticationResolver(e){return B("not implemented")}};Ke=class n extends Ee{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new n(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ce(e,t,"signInWithPassword",Ho,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return zo(e,{email:this._email,oobCode:this._password});default:D(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":let r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ce(e,r,"signUpPassword",Vo,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return qo(e,{idToken:t,email:this._email,oobCode:this._password});default:D(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};Ko="http://localhost",M=class n extends Ee{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):D("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=t;if(!r||!i)return null;let a=new n(r,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){let t=this.buildRequest();return ke(e,t)}_linkToIdToken(e,t){let r=this.buildRequest();return r.idToken=t,ke(e,r)}_getReauthenticationResolver(e){let t=this.buildRequest();return t.autoCreate=!1,ke(e,t)}buildRequest(){let e={requestUri:Ko,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=me(t)}return e}};Xo={USER_NOT_FOUND:"user-not-found"};Pe=class n extends Ee{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new n({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new n({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return Yo(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return Jo(e,{idToken:t,...this._makeVerificationRequest()})}_getReauthenticationResolver(e){return Qo(e,this._makeVerificationRequest())}_makeVerificationRequest(){let{temporaryProof:e,phoneNumber:t,verificationId:r,verificationCode:i}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:r,code:i}}toJSON(){let e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));let{verificationId:t,verificationCode:r,phoneNumber:i,temporaryProof:s}=e;return!r&&!t&&!i&&!s?null:new n({verificationId:t,verificationCode:r,phoneNumber:i,temporaryProof:s})}};Ye=class n{constructor(e){let t=ve(Te(e)),r=t.apiKey??null,i=t.oobCode??null,s=Zo(t.mode??null);d(r&&i&&s,"argument-error"),this.apiKey=r,this.operation=s,this.code=i,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){let t=ec(e);try{return new n(t)}catch{return null}}};x=class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(e,t){return Ke._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){let r=Ye.parseLink(t);return d(r,"argument-error"),Ke._fromEmailAndCode(e,r.code,r.tenantId)}};x.PROVIDER_ID="password";x.EMAIL_PASSWORD_SIGN_IN_METHOD="password";x.EMAIL_LINK_SIGN_IN_METHOD="emailLink";le=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};de=class extends le{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}},y=class n extends de{static credentialFromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;return d("providerId"in t&&"signInMethod"in t,"argument-error"),M._fromParams(t)}credential(e){return this._credential({...e,nonce:e.rawNonce})}_credential(e){return d(e.idToken||e.accessToken,"argument-error"),M._fromParams({...e,providerId:this.providerId,signInMethod:this.providerId})}static credentialFromResult(e){return n.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{oauthIdToken:t,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:s,nonce:a,providerId:o}=e;if(!r&&!i&&!t&&!s||!o)return null;try{return new n(o)._credential({idToken:t,accessToken:r,nonce:a,pendingToken:s})}catch{return null}}};$=class n extends de{constructor(){super("facebook.com")}static credential(e){return M._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return n.credentialFromTaggedObject(e)}static credentialFromError(e){return n.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return n.credential(e.oauthAccessToken)}catch{return null}}};$.FACEBOOK_SIGN_IN_METHOD="facebook.com";$.PROVIDER_ID="facebook.com";G=class n extends de{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return M._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return n.credentialFromTaggedObject(e)}static credentialFromError(e){return n.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return n.credential(t,r)}catch{return null}}};G.GOOGLE_SIGN_IN_METHOD="google.com";G.PROVIDER_ID="google.com";j=class n extends de{constructor(){super("github.com")}static credential(e){return M._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return n.credentialFromTaggedObject(e)}static credentialFromError(e){return n.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return n.credential(e.oauthAccessToken)}catch{return null}}};j.GITHUB_SIGN_IN_METHOD="github.com";j.PROVIDER_ID="github.com";z=class n extends de{constructor(){super("twitter.com")}static credential(e,t){return M._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return n.credentialFromTaggedObject(e)}static credentialFromError(e){return n.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return n.credential(t,r)}catch{return null}}};z.TWITTER_SIGN_IN_METHOD="twitter.com";z.PROVIDER_ID="twitter.com";Q=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){let s=await oe._fromIdTokenResponse(e,r,i),a=Fi(r);return new n({user:s,providerId:a,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);let i=Fi(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})}};Kn=class n extends U{constructor(e,t,r,i){super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};ue=class{constructor(e,t,r={}){this.isNewUser=e,this.providerId=t,this.profile=r}},kt=class extends ue{constructor(e,t,r,i){super(e,t,r),this.username=i}},Yn=class extends ue{constructor(e,t){super(e,"facebook.com",t)}},Jn=class extends kt{constructor(e,t){super(e,"github.com",t,typeof t?.login=="string"?t?.login:null)}},Xn=class extends ue{constructor(e,t){super(e,"google.com",t)}},Qn=class extends kt{constructor(e,t,r){super(e,"twitter.com",t,r)}};Pt="__sak";Ot=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Pt,"1"),this.storage.removeItem(Pt),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};uc=1e3,lc=10,Nt=class extends Ot{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ls(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(let t of Object.keys(this.listeners)){let r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((a,o,c)=>{this.notifyListeners(a,c)});return}let r=e.key;t?this.detachListener():this.stopPolling();let i=()=>{let a=this.storage.getItem(r);!t&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);vo()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,lc):i()}notifyListeners(e,t){this.localCache[e]=t;let r=this.listeners[e];if(r)for(let i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},uc)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){let t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}};Nt.type="LOCAL";Zt=Nt;dc=1e3;Zn=class{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(typeof window===void 0)return e;let t=new URL(`${window.location.origin}/__cookies__`);return t.searchParams.set("finalTarget",e),t}async _isAvailable(){return typeof isSecureContext=="boolean"&&!isSecureContext||typeof navigator>"u"||typeof document>"u"?!1:navigator.cookieEnabled??!0}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;let t=Un(e);return window.cookieStore?(await window.cookieStore.get(t))?.value:Ln(t)}async _remove(e){if(!this._isAvailable()||!await this._get(e))return;let r=Un(e);document.cookie=`${r}=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High`,await fetch("/__cookies__",{method:"DELETE"}).catch(()=>{})}_addListener(e,t){if(!this._isAvailable())return;let r=Un(e);if(window.cookieStore){let o=(u=>{let h=u.changed.find(l=>l.name===r);h&&t(h.value),u.deleted.find(l=>l.name===r)&&t(null)}),c=()=>window.cookieStore.removeEventListener("change",o);return this.listenerUnsubscribes.set(t,c),window.cookieStore.addEventListener("change",o)}let i=Ln(r),s=setInterval(()=>{let o=Ln(r);o!==i&&(t(o),i=o)},dc),a=()=>clearInterval(s);this.listenerUnsubscribes.set(t,a)}_removeListener(e,t){let r=this.listenerUnsubscribes.get(t);r&&(r(),this.listenerUnsubscribes.delete(t))}};Zn.type="COOKIE";Dt=class extends Ot{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}};Dt.type="SESSION";tt=Dt;Lt=class n{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){let t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;let r=new n(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){let t=e,{eventId:r,eventType:i,data:s}=t.data,a=this.handlersMap[i];if(!a?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});let o=Array.from(a).map(async u=>u(t.origin,s)),c=await hc(o);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}};Lt.receivers=[];er=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((o,c)=>{let u=en("",20);i.port1.start();let h=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(f){let l=f;if(l.data.eventId===u)switch(l.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),o(l.data.response);break;default:clearTimeout(h),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:u,data:t},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}};Ts="firebaseLocalStorageDb",Ic=1,Ut="firebaseLocalStorage",bs="fbase_key",ye=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};yc=800,wc=3,Mt=class{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await tr(),this.db)}async _withRetries(e){let t=0;for(;;)try{let r=await this._openDb();return await e(r)}catch(r){if(t++>wc)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Mr()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Lt._getInstance(gc()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await pc(),!this.activeServiceWorker)return;this.sender=new er(this.activeServiceWorker);let e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||mc()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;let e=await tr();return await Wi(e,Pt,"1"),await Hi(e,Pt),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>Wi(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){let t=await this._withRetries(r=>Ec(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Hi(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){let e=await this._withRetries(i=>{let s=tn(i,!1).getAll();return new ye(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];let t=[],r=new Set;if(e.length!==0)for(let{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),t.push(i));for(let i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;let r=this.listeners[e];if(r)for(let i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),yc)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}};Mt.type="LOCAL";nn=Mt;Mn=hs("rcb"),bc=new Ie(3e4,6e4),nr=class{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!v().grecaptcha?.render}load(e,t=""){return d(Rc(t),e,"argument-error"),this.shouldResolveImmediately(t)&&Oi(v().grecaptcha)?Promise.resolve(v().grecaptcha):new Promise((r,i)=>{let s=v().setTimeout(()=>{i(P(e,"network-request-failed"))},bc.get());v()[Mn]=()=>{v().clearTimeout(s),delete v()[Mn];let o=v().grecaptcha;if(!o||!Oi(o)){i(P(e,"internal-error"));return}let c=o.render;o.render=(u,h)=>{let f=c(u,h);return this.counter++,f},this.hostLanguage=t,r(o)};let a=`${So()}?${me({onload:Mn,render:"explicit",hl:t})}`;pr(a).catch(()=>{clearTimeout(s),i(P(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){return!!v().grecaptcha?.render&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}};rr=class{async load(e){return new Gn(e)}clearedOneInstance(){}};$e="recaptcha",Sc={theme:"light",type:"image"},Oe=class{constructor(e,t,r={...Sc}){this.parameters=r,this.type=$e,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=b(e),this.isInvisible=this.parameters.size==="invisible",d(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");let i=typeof t=="string"?document.getElementById(t):t;d(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new rr:new nr,this.validateStartingState()}async verify(){this.assertNotDestroyed();let e=await this.render(),t=this.getAssertedRecaptcha(),r=t.getResponse(e);return r||new Promise(i=>{let s=a=>{a&&(this.tokenChangeListeners.delete(s),i(a))};this.tokenChangeListeners.add(s),this.isInvisible&&t.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){d(!this.parameters.sitekey,this.auth,"argument-error"),d(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),d(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(r=>r(t)),typeof e=="function")e(t);else if(typeof e=="string"){let r=v()[e];typeof r=="function"&&r(t)}}}assertNotDestroyed(){d(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){let t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){d(dr()&&!Mr(),this.auth,"internal-error"),await Ac(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);let e=await po(this.auth);d(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return d(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};xt=class{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){let t=Pe._fromVerification(this.verificationId,e);return this.onConfirmation(t)}};Je=class n{constructor(e){this.providerId=n.PROVIDER_ID,this.auth=b(e)}verifyPhoneNumber(e,t){return Vr(this.auth,e,g(t))}static credential(e,t){return Pe._fromVerification(e,t)}static credentialFromResult(e){let t=e;return n.credentialFromTaggedObject(t)}static credentialFromError(e){return n.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{phoneNumber:t,temporaryProof:r}=e;return t&&r?Pe._fromTokenResponse(t,r):null}};Je.PROVIDER_ID="phone";Je.PHONE_SIGN_IN_METHOD="phone";Xe=class extends Ee{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ke(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ke(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ke(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};Ft=class{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){let{urlResponse:t,sessionId:r,postBody:i,tenantId:s,error:a,type:o}=e;if(a){this.reject(a);return}let c={auth:this.auth,requestUri:t,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Cc;case"linkViaPopup":case"linkViaRedirect":return Pc;case"reauthViaPopup":case"reauthViaRedirect":return kc;default:D(this.auth,"internal-error")}}resolve(e){X(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){X(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};Oc=new Ie(2e3,1e4);Qe=class n extends Ft{constructor(e,t,r,i,s){super(e,t,i,s),this.provider=r,this.authWindow=null,this.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=this}async executeNotNull(){let e=await this.execute();return d(e,this.auth,"internal-error"),e}async onExecution(){X(this.filter.length===1,"Popup operations only handle one event");let e=en();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(P(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(P(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}pollUserCancellation(){let e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(P(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Oc.get())};e()}};Qe.currentPopupAction=null;Nc="pendingRedirect",Et=new Map,ir=class extends Ft{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Et.get(this.auth._key());if(!e){try{let r=await Dc(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Et.set(this.auth._key(),e)}return this.bypassAuthState||Et.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}};Fc=600*1e3,sr=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Vc(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!ks(e)){let r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(P(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Fc&&this.cachedEventUids.clear(),this.cachedEventUids.has($i(e))}saveEventToCache(e){this.cachedEventUids.add($i(e)),this.lastProcessedEventTime=Date.now()}};Hc=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Bc=/^https?/;jc=new Ie(3e4,6e4);yt=null;Kc=new Ie(5e3,15e3),Yc="__/auth/iframe",Jc="emulator/auth/iframe",Xc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Qc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);tu={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},nu=500,ru=600,iu="_blank",su="http://localhost",Vt=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};cu="__/auth/handler",uu="emulator/auth/handler",lu=encodeURIComponent("fac");Fn="webStorageSupport",ar=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tt,this._completeRedirectFn=Cs,this._overrideRedirectResult=Lc}async _openPopup(e,t,r,i){X(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");let s=await ji(e,t,r,Ge(),i);return au(e,s,en())}async _openRedirect(e,t,r,i){await this._originValidation(e);let s=await ji(e,t,r,Ge(),i);return fc(s),new Promise(()=>{})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(X(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){let t=await eu(e),r=new sr(e);return t.register("authEvent",i=>(d(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Fn,{type:Fn},i=>{let s=i?.[0]?.[Fn];s!==void 0&&t(!!s),D(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=$c(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return ls()||is()||fr()}},Ps=ar,Wt=class{constructor(e){this.factorId=e}_process(e,t,r){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,r);case"signin":return this._finalizeSignIn(e,t.credential);default:return B("unexpected MultiFactorSessionType")}}},or=class n extends Wt{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new n(e)}_finalizeEnroll(e,t,r){return ac(e,{idToken:t,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return vc(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},Ht=class{constructor(){}static assertion(e){return or._fromCredential(e)}};Ht.FACTOR_ID="phone";Bt=class{static assertionForEnrollment(e,t){return $t._fromSecret(e,t)}static assertionForSignIn(e,t){return $t._fromEnrollmentId(e,t)}static async generateSecret(e){let t=e;d(typeof t.user?.auth<"u","internal-error");let r=await oc(t.user.auth,{idToken:t.credential,totpEnrollmentInfo:{}});return Gt._fromStartTotpMfaEnrollmentResponse(r,t.user.auth)}};Bt.FACTOR_ID="totp";$t=class n extends Wt{constructor(e,t,r){super("totp"),this.otp=e,this.enrollmentId=t,this.secret=r}static _fromSecret(e,t){return new n(t,void 0,e)}static _fromEnrollmentId(e,t){return new n(t,e)}async _finalizeEnroll(e,t,r){return d(typeof this.secret<"u",e,"argument-error"),cc(e,{idToken:t,displayName:r,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)})}async _finalizeSignIn(e,t){d(this.enrollmentId!==void 0&&this.otp!==void 0,e,"argument-error");let r={verificationCode:this.otp};return Tc(e,{mfaPendingCredential:t,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:r})}},Gt=class n{constructor(e,t,r,i,s,a,o){this.sessionInfo=a,this.auth=o,this.secretKey=e,this.hashingAlgorithm=t,this.codeLength=r,this.codeIntervalSeconds=i,this.enrollmentCompletionDeadline=s}static _fromStartTotpMfaEnrollmentResponse(e,t){return new n(e.totpSessionInfo.sharedSecretKey,e.totpSessionInfo.hashingAlgorithm,e.totpSessionInfo.verificationCodeLength,e.totpSessionInfo.periodSec,new Date(e.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),e.totpSessionInfo.sessionInfo,t)}_makeTotpVerificationInfo(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}generateQrCodeUrl(e,t){let r=!1;return(gt(e)||gt(t))&&(r=!0),r&&(gt(e)&&(e=this.auth.currentUser?.email||"unknownuser"),gt(t)&&(t=this.auth.name)),`otpauth://totp/${t}:${e}?secret=${this.secretKey}&issuer=${t}&algorithm=${this.hashingAlgorithm}&digits=${this.codeLength}`}};zi="@firebase/auth",qi="1.11.1";cr=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){d(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};pu=300,mu=mn("authIdTokenMaxAge")||pu,Ki=null,gu=n=>async e=>{let t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>mu)return;let i=t?.token;Ki!==i&&(Ki=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};Ro({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let s=P("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",Iu().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});fu("Browser")});var Ns=O(()=>{Os();Nn();be();ht();dt()});var Ds=O(()=>{Ns()});var Ls={};Fs(Ls,{FirebaseAuthenticationWeb:()=>F});var F,Us=O(()=>{ot();Ds();cn();F=class n extends fe{constructor(){super(),this.lastConfirmationResult=new Map;let e=p();e.onAuthStateChanged(t=>this.handleAuthStateChange(t)),e.onIdTokenChanged(t=>{this.handleIdTokenChange(t)})}async applyActionCode(e){let t=p();return wr(t,e.oobCode)}async createUserWithEmailAndPassword(e){let t=p(),r=await vr(t,e.email,e.password);return this.createSignInResult(r,null)}async confirmPasswordReset(e){let t=p();return yr(t,e.oobCode,e.newPassword)}async confirmVerificationCode(e){let{verificationCode:t,verificationId:r}=e,i=this.lastConfirmationResult.get(r);if(!i)throw new Error(n.ERROR_CONFIRMATION_RESULT_MISSING);let s=await i.confirm(t);return this.createSignInResult(s,null)}async deleteUser(){let t=p().currentUser;if(!t)throw new Error(n.ERROR_NO_USER_SIGNED_IN);return Ur(t)}async fetchSignInMethodsForEmail(e){let t=p();return{signInMethods:await Ar(t,e.email)}}async getPendingAuthResult(){this.throwNotAvailableError()}async getCurrentUser(){let e=p();return{user:this.createUserResult(e.currentUser)}}async getIdToken(e){let t=p();if(!t.currentUser)throw new Error(n.ERROR_NO_USER_SIGNED_IN);return{token:await t.currentUser.getIdToken(e?.forceRefresh)||""}}async getIdTokenResult(e){let t=p();if(!t.currentUser)throw new Error(n.ERROR_NO_USER_SIGNED_IN);let r=await t.currentUser.getIdTokenResult(e?.forceRefresh);return Object.assign(Object.assign({},r),{authTime:Date.parse(r.authTime),expirationTime:Date.parse(r.expirationTime),issuedAtTime:Date.parse(r.issuedAtTime)})}async getRedirectResult(){let e=p(),t=await Gr(e),r=t?y.credentialFromResult(t):null;return this.createSignInResult(t,r)}async getTenantId(){return{tenantId:p().tenantId}}async isSignInWithEmailLink(e){let t=p();return{isSignInWithEmailLink:Rr(t,e.emailLink)}}async linkWithApple(e){let t=new y(q.APPLE);this.applySignInOptions(e||{},t);let r=await this.linkCurrentUserWithPopupOrRedirect(t,e?.mode),i=y.credentialFromResult(r);return this.createSignInResult(r,i)}async linkWithEmailAndPassword(e){let t=x.credential(e.email,e.password),r=await this.linkCurrentUserWithCredential(t);return this.createSignInResult(r,t)}async linkWithEmailLink(e){let t=x.credentialWithLink(e.email,e.emailLink),r=await this.linkCurrentUserWithCredential(t);return this.createSignInResult(r,t)}async linkWithFacebook(e){let t=new $;this.applySignInOptions(e||{},t);let r=await this.linkCurrentUserWithPopupOrRedirect(t,e?.mode),i=$.credentialFromResult(r);return this.createSignInResult(r,i)}async linkWithGameCenter(){this.throwNotAvailableError()}async linkWithGithub(e){let t=new j;this.applySignInOptions(e||{},t);let r=await this.linkCurrentUserWithPopupOrRedirect(t,e?.mode),i=j.credentialFromResult(r);return this.createSignInResult(r,i)}async linkWithGoogle(e){let t=new G;this.applySignInOptions(e||{},t);let r=await this.linkCurrentUserWithPopupOrRedirect(t,e?.mode),i=G.credentialFromResult(r);return this.createSignInResult(r,i)}async linkWithMicrosoft(e){let t=new y(q.MICROSOFT);this.applySignInOptions(e||{},t);let r=await this.linkCurrentUserWithPopupOrRedirect(t,e?.mode),i=y.credentialFromResult(r);return this.createSignInResult(r,i)}async linkWithOpenIdConnect(e){let t=new y(e.providerId);this.applySignInOptions(e,t);let r=await this.linkCurrentUserWithPopupOrRedirect(t,e.mode),i=y.credentialFromResult(r);return this.createSignInResult(r,i)}async linkWithPhoneNumber(e){let r=p().currentUser;if(!r)throw new Error(n.ERROR_NO_USER_SIGNED_IN);if(!e.phoneNumber)throw new Error(n.ERROR_PHONE_NUMBER_MISSING);if(!e.recaptchaVerifier||!(e.recaptchaVerifier instanceof Oe))throw new Error(n.ERROR_RECAPTCHA_VERIFIER_MISSING);try{let i=await Fr(r,e.phoneNumber,e.recaptchaVerifier),{verificationId:s}=i;this.lastConfirmationResult.set(s,i);let a={verificationId:s};this.notifyListeners(n.PHONE_CODE_SENT_EVENT,a)}catch(i){let s={message:this.getErrorMessage(i)};this.notifyListeners(n.PHONE_VERIFICATION_FAILED_EVENT,s)}}async linkWithPlayGames(){this.throwNotAvailableError()}async linkWithTwitter(e){let t=new z;this.applySignInOptions(e||{},t);let r=await this.linkCurrentUserWithPopupOrRedirect(t,e?.mode),i=z.credentialFromResult(r);return this.createSignInResult(r,i)}async linkWithYahoo(e){let t=new y(q.YAHOO);this.applySignInOptions(e||{},t);let r=await this.linkCurrentUserWithPopupOrRedirect(t,e?.mode),i=y.credentialFromResult(r);return this.createSignInResult(r,i)}async reload(){let t=p().currentUser;if(!t)throw new Error(n.ERROR_NO_USER_SIGNED_IN);return qt(t)}async revokeAccessToken(e){let t=p();return Lr(t,e.token)}async sendEmailVerification(e){let r=p().currentUser;if(!r)throw new Error(n.ERROR_NO_USER_SIGNED_IN);return Cr(r,e?.actionCodeSettings)}async sendPasswordResetEmail(e){let t=p();return Er(t,e.email,e.actionCodeSettings)}async sendSignInLinkToEmail(e){let t=p();return br(t,e.email,e.actionCodeSettings)}async setLanguageCode(e){let t=p();t.languageCode=e.languageCode}async setPersistence(e){let t=p();switch(e.persistence){case pe.BrowserLocal:await Ne(t,Zt);break;case pe.BrowserSession:await Ne(t,tt);break;case pe.IndexedDbLocal:await Ne(t,nn);break;case pe.InMemory:await Ne(t,qe);break}}async setTenantId(e){let t=p();t.tenantId=e.tenantId}async signInAnonymously(){let e=p(),t=await mr(e);return this.createSignInResult(t,null)}async signInWithApple(e){let t=new y(q.APPLE);this.applySignInOptions(e||{},t);let r=await this.signInWithPopupOrRedirect(t,e?.mode),i=y.credentialFromResult(r);return this.createSignInResult(r,i)}async signInWithCustomToken(e){let t=p(),r=await Ir(t,e.token);return this.createSignInResult(r,null)}async signInWithEmailAndPassword(e){let t=p(),r=await Tr(t,e.email,e.password);return this.createSignInResult(r,null)}async signInWithEmailLink(e){let t=p(),r=await Sr(t,e.email,e.emailLink);return this.createSignInResult(r,null)}async signInWithFacebook(e){let t=new $;this.applySignInOptions(e||{},t);let r=await this.signInWithPopupOrRedirect(t,e?.mode),i=$.credentialFromResult(r);return this.createSignInResult(r,i)}async signInWithGithub(e){let t=new j;this.applySignInOptions(e||{},t);let r=await this.signInWithPopupOrRedirect(t,e?.mode),i=j.credentialFromResult(r);return this.createSignInResult(r,i)}async signInWithGoogle(e){let t=new G;this.applySignInOptions(e||{},t);let r=await this.signInWithPopupOrRedirect(t,e?.mode),i=G.credentialFromResult(r);return this.createSignInResult(r,i)}async signInWithMicrosoft(e){let t=new y(q.MICROSOFT);this.applySignInOptions(e||{},t);let r=await this.signInWithPopupOrRedirect(t,e?.mode),i=y.credentialFromResult(r);return this.createSignInResult(r,i)}async signInWithOpenIdConnect(e){let t=new y(e.providerId);this.applySignInOptions(e,t);let r=await this.signInWithPopupOrRedirect(t,e.mode),i=y.credentialFromResult(r);return this.createSignInResult(r,i)}async signInWithPhoneNumber(e){if(!e.phoneNumber)throw new Error(n.ERROR_PHONE_NUMBER_MISSING);if(!e.recaptchaVerifier||!(e.recaptchaVerifier instanceof Oe))throw new Error(n.ERROR_RECAPTCHA_VERIFIER_MISSING);let t=p();try{let r=await xr(t,e.phoneNumber,e.recaptchaVerifier),{verificationId:i}=r;this.lastConfirmationResult.set(i,r);let s={verificationId:i};this.notifyListeners(n.PHONE_CODE_SENT_EVENT,s)}catch(r){let i={message:this.getErrorMessage(r)};this.notifyListeners(n.PHONE_VERIFICATION_FAILED_EVENT,i)}}async signInWithPlayGames(){this.throwNotAvailableError()}async signInWithGameCenter(){this.throwNotAvailableError()}async signInWithTwitter(e){let t=new z;this.applySignInOptions(e||{},t);let r=await this.signInWithPopupOrRedirect(t,e?.mode),i=z.credentialFromResult(r);return this.createSignInResult(r,i)}async signInWithYahoo(e){let t=new y(q.YAHOO);this.applySignInOptions(e||{},t);let r=await this.signInWithPopupOrRedirect(t,e?.mode),i=y.credentialFromResult(r);return this.createSignInResult(r,i)}async signOut(){await p().signOut()}async unlink(e){let t=p();if(!t.currentUser)throw new Error(n.ERROR_NO_USER_SIGNED_IN);let r=await gr(t.currentUser,e.providerId);return{user:this.createUserResult(r)}}async updateEmail(e){let r=p().currentUser;if(!r)throw new Error(n.ERROR_NO_USER_SIGNED_IN);return Or(r,e.newEmail)}async updatePassword(e){let r=p().currentUser;if(!r)throw new Error(n.ERROR_NO_USER_SIGNED_IN);return Nr(r,e.newPassword)}async updateProfile(e){let r=p().currentUser;if(!r)throw new Error(n.ERROR_NO_USER_SIGNED_IN);return Pr(r,{displayName:e.displayName,photoURL:e.photoUrl})}async useAppLanguage(){p().useDeviceLanguage()}async useEmulator(e){let t=p(),r=e.port||9099,i=e.scheme||"http";e.host.includes("://")?et(t,`${e.host}:${r}`):et(t,`${i}://${e.host}:${r}`)}async verifyBeforeUpdateEmail(e){let r=p().currentUser;if(!r)throw new Error(n.ERROR_NO_USER_SIGNED_IN);return kr(r,e?.newEmail,e?.actionCodeSettings)}handleAuthStateChange(e){let r={user:this.createUserResult(e)};this.notifyListeners(n.AUTH_STATE_CHANGE_EVENT,r,!0)}async handleIdTokenChange(e){if(!e)return;let r={token:await e.getIdToken(!1)};this.notifyListeners(n.ID_TOKEN_CHANGE_EVENT,r,!0)}applySignInOptions(e,t){if(e.customParameters){let r={};e.customParameters.map(i=>{r[i.key]=i.value}),t.setCustomParameters(r)}if(e.scopes)for(let r of e.scopes)t.addScope(r)}signInWithPopupOrRedirect(e,t){let r=p();return t==="redirect"?Br(r,e):Wr(r,e)}linkCurrentUserWithPopupOrRedirect(e,t){let r=p();if(!r.currentUser)throw new Error(n.ERROR_NO_USER_SIGNED_IN);return t==="redirect"?$r(r.currentUser,e):Hr(r.currentUser,e)}linkCurrentUserWithCredential(e){let t=p();if(!t.currentUser)throw new Error(n.ERROR_NO_USER_SIGNED_IN);return Xt(t.currentUser,e)}requestAppTrackingTransparencyPermission(){this.throwNotAvailableError()}checkAppTrackingTransparencyPermission(){this.throwNotAvailableError()}createSignInResult(e,t){let r=this.createUserResult(e?.user||null),i=this.createCredentialResult(t),s=this.createAdditionalUserInfoResult(e);return{user:r,credential:i,additionalUserInfo:s}}createCredentialResult(e){if(!e)return null;let t={providerId:e.providerId};return e instanceof M&&(t.accessToken=e.accessToken,t.idToken=e.idToken,t.secret=e.secret),t}createUserResult(e){return e?{displayName:e.displayName,email:e.email,emailVerified:e.emailVerified,isAnonymous:e.isAnonymous,metadata:this.createUserMetadataResult(e.metadata),phoneNumber:e.phoneNumber,photoUrl:e.photoURL,providerData:this.createUserProviderDataResult(e.providerData),providerId:e.providerId,tenantId:e.tenantId,uid:e.uid}:null}createUserMetadataResult(e){let t={};return e.creationTime&&(t.creationTime=Date.parse(e.creationTime)),e.lastSignInTime&&(t.lastSignInTime=Date.parse(e.lastSignInTime)),t}createUserProviderDataResult(e){return e.map(t=>({displayName:t.displayName,email:t.email,phoneNumber:t.phoneNumber,photoUrl:t.photoURL,providerId:t.providerId,uid:t.uid}))}createAdditionalUserInfoResult(e){if(!e)return null;let t=Dr(e);if(!t)return null;let{isNewUser:r,profile:i,providerId:s,username:a}=t,o={isNewUser:r};return s!==null&&(o.providerId=s),i!==null&&(o.profile=i),a!=null&&(o.username=a),o}getErrorMessage(e){return e instanceof Object&&"message"in e&&typeof e.message=="string"?e.message:JSON.stringify(e)}throwNotAvailableError(){throw new Error("Not available on web.")}};F.AUTH_STATE_CHANGE_EVENT="authStateChange";F.ID_TOKEN_CHANGE_EVENT="idTokenChange";F.PHONE_CODE_SENT_EVENT="phoneCodeSent";F.PHONE_VERIFICATION_FAILED_EVENT="phoneVerificationFailed";F.ERROR_NO_USER_SIGNED_IN="No user is signed in.";F.ERROR_PHONE_NUMBER_MISSING="phoneNumber must be provided.";F.ERROR_RECAPTCHA_VERIFIER_MISSING="recaptchaVerifier must be provided and must be an instance of RecaptchaVerifier.";F.ERROR_CONFIRMATION_RESULT_MISSING="No confirmation result with this verification id was found."});ot();ot();cn();var _u=Le("FirebaseAuthentication",{web:()=>Promise.resolve().then(()=>(Us(),Ls)).then(n=>new n.FirebaseAuthenticationWeb)});export{at as Capacitor,_u as GoogleAuth};
/*! Bundled license information:

@capacitor/core/dist/index.js:
  (*! Capacitor: https://capacitorjs.com/ - MIT License *)

@firebase/util/dist/index.esm.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2025 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2021 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/component/dist/esm/index.esm.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/logger/dist/esm/index.esm.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/app/dist/esm/index.esm.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2023 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2021 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/auth/dist/esm/index-1970027f.js:
  (**
   * @license
   * Copyright 2021 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2023 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2025 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2020 Google LLC.
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
*/
